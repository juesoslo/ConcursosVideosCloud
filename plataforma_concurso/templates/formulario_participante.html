{% extends 'skrn/base.html' %}
{% load static %}
{% block content %}
    <div class="dashboard-container">
        <div class="registration-billing-form">
            <form id="form_participante">
                <input type="hidden" value="{{ csrf_token }}">
                <div class="row">
                    <div class="col-md-4 col-sm-12">
                        <div class="form-group">
                            <label for="{{ form.nombre.name }}" class="col-form-label">{{ form.nombre.label }}:</label>
                            {{ form.nombre }}
                        </div>
                    </div>
                    <div class="col-md-4 col-sm-12">
                        <div class="form-group">
                            <label for="{{ form.apellido.name }}"
                                   class="col-form-label">{{ form.apellido.label }}:</label>
                            {{ form.apellido }}
                        </div>
                    </div>
                    <div class="col-md-4 col-sm-12">
                        <div class="form-group">
                            <label for="{{ form.email.name }}" class="col-form-label">{{ form.email.label }}:</label>
                            {{ form.email }}
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        <div class="form-group">
                            <label for="{{ form.mensaje.name }}"
                                   class="col-form-label">{{ form.mensaje.label }}:</label>
                            {{ form.mensaje }}
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-12 col-sm-12">
                        <label for="{{ form.video.name }}"
                               class="col-form-label">{{ form.video.label }}:</label>

                        <!-- The file input field used as target for the file upload widget -->
                        {{ form.video }}
                        {% comment %}<span class="btn btn-success fileinput-button">
                            <i class="glyphicon glyphicon-plus"></i>
                            <span>Add files...</span>
                        </span>{% endcomment %}
                        <br/>
                        <!-- The global progress bar -->
                        <div id="progress" class="progress">
                            <div class="progress-bar progress-bar-success"></div>
                        </div>
                        <br/>
                        <!-- The container for the uploaded files -->
                        <div id="files" class="files"></div>
                    </div>
                </div>
            </form>
        </div>
    </div>
{% endblock %}

{% block scripts %}
    <script type="application/javascript">
        var csrf_token = "{{ csrf_token }}";
        var uuid = "{{ uid }}";
        var base_concurso_url = "{{ my_url }}";
        var concurso_id = "{{ id_concurso }}";
        var upload_file_url = "{% url 'platform_upload' %}";
    </script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <!-- The jQuery UI widget factory, can be omitted if jQuery UI is already included -->
    <script src="{% static "vendor/jquery-file-upload/js/vendor/jquery.ui.widget.js" %}"></script>
    <!-- The Load Image plugin is included for the preview images and image resizing functionality -->
    <script src="https://blueimp.github.io/JavaScript-Load-Image/js/load-image.all.min.js"></script>
    <!-- The Canvas to Blob plugin is included for image resizing functionality -->
    <script src="https://blueimp.github.io/JavaScript-Canvas-to-Blob/js/canvas-to-blob.min.js"></script>
    <!-- Bootstrap JS is not required, but included for the responsive demo navigation -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <!-- The Iframe Transport is required for browsers without support for XHR file uploads -->
    <script src="{% static "vendor/jquery-file-upload/js/jquery.iframe-transport.js" %}"></script>
    <!-- The basic File Upload plugin -->
    <script src="{% static "vendor/jquery-file-upload/js/jquery.fileupload.js" %}"></script>
    <!-- The File Upload processing plugin -->
    <script src="{% static "vendor/jquery-file-upload/js/jquery.fileupload-process.js" %}"></script>
    <!-- The File Upload image preview & resize plugin -->
    <script src="{% static "vendor/jquery-file-upload/js/jquery.fileupload-image.js" %}"></script>
    <!-- The File Upload audio preview plugin -->
    <script src="{% static "vendor/jquery-file-upload/js/jquery.fileupload-audio.js" %}"></script>
    <!-- The File Upload video preview plugin -->
    <script src="{% static "vendor/jquery-file-upload/js/jquery.fileupload-video.js" %}"></script>
    <!-- The File Upload validation plugin -->
    <script src="{% static "vendor/jquery-file-upload/js/jquery.fileupload-validate.js" %}"></script>
    <!-- The main script for this page -->
    <script src="{% static "js/formulario_participante.js" %}"></script>
{% endblock %}

{% block styles %}
    <!-- blueimp Gallery styles -->
    <link rel="stylesheet" href="https://blueimp.github.io/Gallery/css/blueimp-gallery.min.css">
    <!-- CSS to style the file input field as button and adjust the Bootstrap progress bars -->
    <link rel="stylesheet" href="{% static "vendor/jquery-file-upload/css/jquery.fileupload.css" %}">
    <!-- CSS adjustments for browsers with JavaScript disabled -->
    <noscript>
        <link rel="stylesheet" href="{% static "vendor/jquery-file-upload/css/jquery.fileupload-noscript.css" %}">
    </noscript>
    <style>
        .registration-billing-form {
            padding: 10px;
        }

        .hidden {
            display: none;
        }

        .form-group {
            margin: 0px;
        }

        .files video {
            max-width: 100%;
            max-height: 400px;
        }

        .files p {
            text-align: center;
        }

        .error{
            color: red;
        }

        /*[name="video"]{
            display: none;
        }*/
    </style>
{% endblock %}
